<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="keywords" content="Github Pages, Coding Pages, GitCafe, ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content="Github_Pages灾备至Coding_Pages : blog.mingguilu.com"/>
<meta property="og:site_name" content="minggui lu"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="http://blog.mingguilu.com/%E7%8B%AE/Github_Pages%E7%81%BE%E5%A4%87%E8%87%B3Coding_Pages/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2017-02-26"/>
<meta property="article:modified_time" content="2017-02-26"/>



<meta property="article:tag" content="Github Pages">
<meta property="article:tag" content="Coding Pages">
<meta property="article:tag" content="GitCafe">




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@imkind0214">
<meta name="twitter:title" content="Github_Pages灾备至Coding_Pages : blog.mingguilu.com">
<meta name="twitter:creator" content="@imkind0214">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="blog.mingguilu.com">


    <base href="http://blog.mingguilu.com">
    <title> Github_Pages灾备至Coding_Pages - MingguiLu </title>
    <link rel="canonical" href="http://blog.mingguilu.com/%E7%8B%AE/Github_Pages%E7%81%BE%E5%A4%87%E8%87%B3Coding_Pages/">
    

    <link href='http://fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/static/css/style.css">
<link rel="stylesheet" id="font-awesome-css" href="/static/fonts/font-awesome.min.css" type="text/css" media="all"/>








    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    
  	<script src="http://blog.mingguilu.comstatic/js/highlight.pack.js"></script>
  	<link rel="stylesheet" href="http://blog.mingguilu.comstatic/css/highlight/github.css">
  	<script>hljs.initHighlightingOnLoad();</script>

    
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?3d1fd52b11dc0bde2abdc4760452f3dc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-86857821-1', 'auto');
      ga('send', 'pageview');
    </script>

</head>

<body lang="en" itemscope itemtype="http://schema.org/Article">
<header id="header">
    <figure>
      <a href="/" border=0 id="logolink">
        <img id="logo-img" src="/static/img/mingguilu.jpg">
        
      </a>
    </figure>
    <div id="byline">ＭingguiLu Blog</div>
    <nav id="nav">
            <ul id="mainnav">
            <li>
                <a href="/感/">
                <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
                <span> 感 </span>
            </a>
            </li>
            <li>
            <a href="/猿/">
                <span class="icon"> <i aria-hidden="true" class="icon-code"></i></span>
                <span> 猿 </span>
            </a>
            </li>
            <li>
            <a href="/狮/">
                <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
                <span> 狮 </span>
            </a>
            </li>
            <li>
            <a href="/about/index.html">
                <span class="icon"> <i aria-hidden="true" class="icon-user"></i></span>
                <span> 吾 </span>
            </a>
            </li>
        </ul>

    

        <ul id="social">
            
            <li id="follow">
                <span class="icon icon-heart-2"> </span>
                <span class="title"> 驻留 </span>
                <div class="dropdown follow">
                    <ul class="social">
                        <li> <a href="http://github.com/mingguilu" target="_blank" title="GitHub" class="github"><span class="icon icon-github"></span>GitHub</a> </li>
                        <li> <a href="http://weibo.com/kind0214" target="_blank" title="Weibo" class="github"><span class="fa fa-weibo weibo"></span>Weibo</a> </li>
                        <li> <a href="http://www.facebook.com/kind0214" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                        <li> <a href="http://www.twitter.com/kind0214" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                        
                    </ul>
                    <span class="subcount icon-arrow-right"></span>
                </div>
            </li>

            <li id="friendlink">
                <span class="icon icon-heart-2"> </span>
                <span class="title"> 友链 </span>
                <div class="dropdown friendlink">
                    <ul class="social">
                        <li> <a href="http://spf13.com/" target="_blank" title="Hacking Management" class="facebook">spf13.com</a> </li>
                        <li> <a href="http://coderzh.com/" target="_blank" title="CoderZh Blog" class="twitter">coderzh.com</a> </li>
                        <li> <a href="https://didadandan.github.io" target="_blank" title="DidaDandan Blog" class="linkedin">DidaDandan</a> </li>
                        <li> <a href="https://longlizl.github.io/" target="_blank" title="LongLi Blog" class="facebook">LongLi</a> </li>
                    </ul>
                    <a href="https://simpleprogrammer.com/" target="_blank" title="simpleprogrammer" class="rss">simpleprogrammer.com</a>
                    <span class="subcount icon-arrow-right"></span>
                </div>
            </li>

        </ul>

    
        <ul id="social">
            <li id="reading">
                <span class="icon icon-idea"> </span>
                <span class="title"> 我正在读... </span>
                <div class="dropdown reading">
                    <img src="/media/reading/2.编程小白的第一本python书.jpg">
                    <span class="subcount icon-arrow-right"></span>
                </div>
            </li>
        </ul>

    <div id="advertise" class="dropdown follow">
    <a href="http://my.yizhihongxing.com/aff.php?aff=294" target="_blank" ><img src="/media/yzhx_232_215.jpg"></a>
</div>

    </nav>
</header>



<section id="main">
  <h1 itemprop="name" id="title">Github_Pages灾备至Coding_Pages</h1>
  

<aside id="meta">

    <div>
        <section id="datecount">
          <h4 id="date"> Sun Feb 26, 2017 </h4>
          <h5 id="wc"> 200 Words </h5>
          <h5 id="readtime"> Read in about 1 Min </h5>
        </section>
        <ul id="categories">
          
        </ul>
        <ul id="tags">
          
            <li> <a href="http://blog.mingguilu.com/tags/github-pages">Github Pages</a> </li>
          
            <li> <a href="http://blog.mingguilu.com/tags/coding-pages">Coding Pages</a> </li>
          
            <li> <a href="http://blog.mingguilu.com/tags/gitcafe">GitCafe</a> </li>
          
        </ul>
    </div>




</aside>

<meta itemprop="wordCount" content="133">
<meta itemprop="datePublished" content="2017-02-26">
<meta itemprop="url" content="http://blog.mingguilu.com/%E7%8B%AE/Github_Pages%E7%81%BE%E5%A4%87%E8%87%B3Coding_Pages/">

  <div>
        <article itemprop="articleBody" id="content">
           

<p>周四晚间在家访问我托管在Github Pages上的Blog时发现网站打不开，确认本地网络没问题，尝试清理浏览器缓存，刷新系统缓存，问题依旧。下意识的回想起来今天我修改代码啦？调整过DNSPod的解析记录啦？还是站点没备案被和谐了？&hellip;&hellip;打开微博刷新了一下，看到关注的几个技术大V:Easy、刘巍峰、梁斌penny都发布或转发了Github无法访问的消息，我有点惊讶：卧槽！why？</p>

<p>随即查看了DNSPod的监控，看到托管在Github Pages的三个站点全部告警。</p>

<p><img src="/media/170226_01_01.jpg" alt="" /></p>

<p>零点前后部分地区开始恢复访问，但周五上午我在工地访问Github依然时断时续，速度极慢，而github.io始终无法访问，直到中午才恢复正常。事后没能找到关于本次Github无法访问的详细解析，但发现相对我这样的Git小白用户，真正的开发人员似乎都见怪不怪，这次只是又一次而已。</p>

<p><img src="/media/170226_01_02.jpg" alt="" /></p>

<p>我想起来刚接触Hugo时在<a href="http://www.gohugo.org/">Hugo中文文档</a>看到的那篇<a href="http://www.gohugo.org/post/coderzh-automated-deploy-hugo/">通过webhook将Hugo自动部署至GitHub Pages和GitCafe Pages</a>，那时完全看不懂，其实现在也是&hellip;&hellip; 不过我突然明白为什么托管在Github上的代码也要容灾，虽然Github的服务相对稳定可靠，但我们的网络并非如此，将代码备份到国内的代码托管服务上是很有必要的。目前我并不需要自动部署项目至Github和GitCafe，我只希望能够将本地代码同时push到两个远程库，手工创建版本库，并推送到远程仓库，可以让我更熟练Git的常用命令。</p>

<p>这个方法很简单：先将Github上已有的仓库导入到Coding，在本地.git版本库配置文件中添加Coding远程仓库的地址，一次push即可将代码同时推送到Github和Coding。</p>

<h3 id="1-注册coding:e7706393a2e33dc7c49d540b3db4cdd9">1. 注册Coding</h3>

<p>起初我是冲着<a href="https://gitcafe.com/">GitCafe</a>去的，但现在已经合并到<a href="https://coding.net">Coding</a>了。</p>

<p><img src="/media/170226_01_01_01.png" alt="" /></p>

<h3 id="2-创建项目的同时导入github的仓库:e7706393a2e33dc7c49d540b3db4cdd9">2. 创建项目的同时导入Github的仓库</h3>

<p><img src="/media/170226_01_02_01.png" alt="" /></p>

<h3 id="3-本地-git版本库追加coding远程仓库地址:e7706393a2e33dc7c49d540b3db4cdd9">3. 本地.git版本库追加Coding远程仓库地址</h3>

<p>修改 .gitmodules</p>

<pre><code>$ vim .gitmodules 
[submodule &quot;public&quot;]
    path = public
    url = git@github.com:mingguilu/blog.mingguilu.com.git
    url = git@git.coding.net:Mingguilu/blog.mingguilu.com.git       # 添加Coding远程仓库地址
</code></pre>

<p>修改 .git/config</p>

<pre><code>$ vim .git/config 
[core]
    repositoryformatversion = 0
    filemode = true
    bare = false
    logallrefupdates = true
[remote &quot;origin&quot;]
    url = git@github.com:mingguilu/blog_mingguilu_com.git
    url = git@git.coding.net:Mingguilu/blog_mingguilu_com.git       # 添加Coding远程仓库地址
    fetch = +refs/heads/*:refs/remotes/origin/*
[branch &quot;master&quot;]
    remote = origin
    merge = refs/heads/master
[submodule &quot;public&quot;]
    url = git@github.com:mingguilu/blog.mingguilu.com.git
    url = git@git.coding.net:Mingguilu/blog.mingguilu.com.git       # 添加Coding远程仓库地址
</code></pre>

<p>修改 .git/modules/public/config</p>

<pre><code>$ vim .git/modules/public/config 
[core]
    repositoryformatversion = 0
    filemode = true
    bare = false
    logallrefupdates = true
    worktree = ../../../public
[remote &quot;origin&quot;]
    url = git@github.com:mingguilu/blog.mingguilu.com.git
    url = git@git.coding.net:Mingguilu/blog.mingguilu.com.git       # 添加Coding远程仓库地址
    fetch = +refs/heads/*:refs/remotes/origin/*
[branch &quot;master&quot;]
    remote = origin
    merge = refs/heads/master
</code></pre>

<h3 id="4-至此-一次push即可同时推送到github和coding:e7706393a2e33dc7c49d540b3db4cdd9">4. 至此，一次push即可同时推送到Github和Coding</h3>

<h3 id="5-开启coding仓库的pages服务并绑定域名:e7706393a2e33dc7c49d540b3db4cdd9">5. 开启Coding仓库的Pages服务并绑定域名</h3>

<p><img src="/media/170226_01_05_01.png" alt="" /></p>

<h3 id="6-在dnspod的增加域名别名解析记录至pages-coding-me-并设置为默认线路-xxx-github-io设置为国外线路:e7706393a2e33dc7c49d540b3db4cdd9">6. 在DNSPod的增加域名别名解析记录至pages.coding.me.，并设置为默认线路，xxx.github.io设置为国外线路</h3>

<p>到这里，已完成将Github仓库导入到Coding项目作为备份，并实现Blog的在线访问的灾备，和国内访问速度的优化。</p>

        </article>
  </div>
  


<aside id="prevnext">
    

    <div>
        <section id="prev">
            &nbsp;
        </section>
        <section id="next">
            &nbsp;<a class="next" href="http://blog.mingguilu.com/%E7%8B%AE/%E5%85%B3%E4%BA%8EJennyCh_Blog%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%87%E6%A1%A3/">关于JennyCh_Blog的使用文档 <i class="icon-arrow-right"></i></a>
        </section>
    </div>


</aside>

<meta itemprop="wordCount" content="133">
<meta itemprop="datePublished" content="2017-02-26">
<meta itemprop="url" content="http://blog.mingguilu.com/%E7%8B%AE/Github_Pages%E7%81%BE%E5%A4%87%E8%87%B3Coding_Pages/">

</section>



<aside id=comments>
    <div><h2> Comments </h2></div>

     

     
	<div class="ds-thread" data-thread-key="" data-title="Github_Pages灾备至Coding_Pages" data-url="http://blog.mingguilu.com/%E7%8B%AE/Github_Pages%E7%81%BE%E5%A4%87%E8%87%B3Coding_Pages/"></div>
	
	
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"imkind"};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0]
			 || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
		</script>
	

</aside>

<footer>
  <p class="back_top"><a href="javascript:scroll(0,0)" target="_self"> <span class="icon icon-rocket"></span>回到顶部<span class="icon icon-rocket"></span> </a></p>
  <div>
    <p>
    &copy;2016
        <span itemprop="name">MingguiLu .</span>
        Theme by <a href="http://servergrove.com">Server Francia</a>.
        Powered by <a href="http://gohugo.io">Hugo</a>.
        Hosted by <a href="https://github.com/">Github</a>.

    </p>
  </div>
</footer>



</body>
</html>

