<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/favicon.ico?v=5.1.4" color="#222">





  <meta name="keywords" content="Linux,CentOS,Docker," />










<meta name="description" content="Docker分为Docker-EE(enterprise edition)和Docker-CE(community edition)两个版本；EE是收费版本，由官方技术团队维护和提供技术支持；CE是免费版本，由社区维护和提供技术支持">
<meta name="keywords" content="Linux,CentOS,Docker">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOS7安装Docker和Docker-compose">
<meta property="og:url" content="http://blog.mingguilu.com/2018/03/06/CentOS7安装Docker和Docker-compose/index.html">
<meta property="og:site_name" content="Welcome to MingguiLu&#39;s Blog">
<meta property="og:description" content="Docker分为Docker-EE(enterprise edition)和Docker-CE(community edition)两个版本；EE是收费版本，由官方技术团队维护和提供技术支持；CE是免费版本，由社区维护和提供技术支持">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://blog.mingguilu.com/images/photos/docker.jpg">
<meta property="og:updated_time" content="2018-09-06T16:18:07.721Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CentOS7安装Docker和Docker-compose">
<meta name="twitter:description" content="Docker分为Docker-EE(enterprise edition)和Docker-CE(community edition)两个版本；EE是收费版本，由官方技术团队维护和提供技术支持；CE是免费版本，由社区维护和提供技术支持">
<meta name="twitter:image" content="http://blog.mingguilu.com/images/photos/docker.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.mingguilu.com/2018/03/06/CentOS7安装Docker和Docker-compose/"/>





  <title>CentOS7安装Docker和Docker-compose | Welcome to MingguiLu's Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-86857821-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e445a3394fe0a8c528bebf844c37c922";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><!--
<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i><img src="/images/favicon.ico" /></i></span>
        <span class="site-title">Welcome to MingguiLu's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>
-->

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-candies">
          <a href="/candies/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-cny"></i> <br />
            
            红包
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <link itemprop="mainEntityOfPage" href="http://blog.mingguilu.com/2018/03/06/CentOS7安装Docker和Docker-compose/">

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Minggui Lu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome to MingguiLu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">CentOS7安装Docker和Docker-compose</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-06T13:01:17+08:00">
                2018-03-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/运维之道/" itemprop="url" rel="index">
                    <span itemprop="name">运维之道</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-meta-divider">|</span>
            
            <span class="post-meta-item-icon">
                <i class="fa fa-star-o"></i>
            </span>
            
                <span class="post-meta-item-text">标签于</span>
            
            <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
              
                &nbsp;
                <a href="/tags/Linux/" itemprop="url" rel="tag"> 
                  <span itemprop="name"> Linux </span>
                </a>
              
                &nbsp;
                <a href="/tags/CentOS/" itemprop="url" rel="tag"> 
                  <span itemprop="name"> CentOS </span>
                </a>
              
                &nbsp;
                <a href="/tags/Docker/" itemprop="url" rel="tag"> 
                  <span itemprop="name"> Docker </span>
                </a>
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 href="/images/photos/docker.jpg" rel="gallery_cjmql90p9000scswgptjeb75y"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="/images/photos/docker.jpg" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
        <p>Docker分为Docker-EE(enterprise edition)和Docker-CE(community edition)两个版本；EE是收费版本，由官方技术团队维护和提供技术支持；CE是免费版本，由社区维护和提供技术支持</p>
<a id="more"></a>
<h4 id="安装Docker-EE"><a href="#安装Docker-EE" class="headerlink" title="安装Docker-EE"></a>安装Docker-EE</h4><h5 id="获取Docker-EE-repository-URL"><a href="#获取Docker-EE-repository-URL" class="headerlink" title="获取Docker EE repository URL"></a>获取Docker EE repository URL</h5><h6 id="注册Docker帐户"><a href="#注册Docker帐户" class="headerlink" title="注册Docker帐户"></a>注册Docker帐户</h6><p>在<a href="https://www.docker.com/" target="_blank" rel="noopener">Docker官网</a>右上角点击<code>Create Docker ID</code>，输入<code>Docker ID</code>、邮箱、密码进行注册，随后在邮件点击链接激活帐户</p>
<p><img src="/images/20180306/20180306_01_01.png" alt=""></p>
<!--more-->
<h6 id="在Docker-Store获取Docker-EE-for-CentOS"><a href="#在Docker-Store获取Docker-EE-for-CentOS" class="headerlink" title="在Docker Store获取Docker EE for CentOS"></a>在<a href="https://store.docker.com/" target="_blank" rel="noopener">Docker Store</a>获取<code>Docker EE for CentOS</code></h6><p>在<code>GET DOCKER</code>下面点击<code>GET DOCKER EE</code>，筛选出<code>Docker Enterprise Edition for CentOS</code></p>
<p><img src="/images/20180306/20180306_01_02.png" alt=""></p>
<p>Docker-EE是付费版本，但可以免费体验1个月，点击<code>Start 1 Month Trial</code></p>
<p><img src="/images/20180306/20180306_01_03.png" alt=""></p>
<p>如果是第一次获取Docker repository URL，会要求完善个人账户信息，填写提交即可，接下来即可看到自己的URL</p>
<p><img src="/images/20180306/20180306_01_04.png" alt=""></p>
<h5 id="卸载旧版本的Docker或Docker-engine"><a href="#卸载旧版本的Docker或Docker-engine" class="headerlink" title="卸载旧版本的Docker或Docker-engine"></a>卸载旧版本的<code>Docker</code>或<code>Docker-engine</code></h5><p>如果系统上不存在旧版的Docker可以跳过这步</p>
<pre><code>$ sudo yum remove docker \
                docker-client \
                docker-client-latest \
                docker-common \
                docker-latest \
                docker-latest-logrotate \
                docker-logrotate \
                docker-selinux \
                docker-engine-selinux \
                docker-engine \
                docker-ce
</code></pre><h5 id="配置Yum源"><a href="#配置Yum源" class="headerlink" title="配置Yum源"></a>配置Yum源</h5><h6 id="移除现有的Docker-yum源"><a href="#移除现有的Docker-yum源" class="headerlink" title="移除现有的Docker yum源"></a>移除现有的Docker yum源</h6><pre><code>[mingguilu@localhost yum.repos.d]$ sudo mv docker-ee.repo docker-ee.repo.bak
[mingguilu@localhost yum.repos.d]$ ls
CentOS-Base.repo  CentOS-Debuginfo.repo  CentOS-Media.repo    CentOS-Vault.repo
CentOS-CR.repo    CentOS-fasttrack.repo  CentOS-Sources.repo  docker-ee.repo.bak
</code></pre><h6 id="将Docker-EE-repository-UR添加到临时环境变量中"><a href="#将Docker-EE-repository-UR添加到临时环境变量中" class="headerlink" title="将Docker EE repository UR添加到临时环境变量中"></a>将Docker EE repository UR添加到临时环境变量中</h6><pre><code>$ export DOCKERURL=&apos;&lt;DOCKER-EE-URL&gt;&apos;

[mingguilu@localhost yum.repos.d]$ export DOCKERURL=&apos;&lt;DOCKER-EE-URL&gt;&apos;
[mingguilu@localhost yum.repos.d]$ export | head -1
declare -x DOCKERURL=&quot;https://storebits.docker.com/ee/centos/sub-43072c8f-268b-4608-8065-9996bb1c7129&quot;
</code></pre><h6 id="把存储Docker-EE-repository-UR的变量添加到-etc-yum-vars-dockerurl文件中"><a href="#把存储Docker-EE-repository-UR的变量添加到-etc-yum-vars-dockerurl文件中" class="headerlink" title="把存储Docker EE repository UR的变量添加到/etc/yum/vars/dockerurl文件中"></a>把存储Docker EE repository UR的变量添加到/etc/yum/vars/dockerurl文件中</h6><pre><code>$ sudo -E sh -c &apos;echo &quot;$DOCKERURL/centos&quot; &gt; /etc/yum/vars/dockerurl&apos;
</code></pre><h6 id="安装必需的软件yum-utils、device-mapper-persistent-data、lvm2"><a href="#安装必需的软件yum-utils、device-mapper-persistent-data、lvm2" class="headerlink" title="安装必需的软件yum-utils、device-mapper-persistent-data、lvm2"></a>安装必需的软件yum-utils、device-mapper-persistent-data、lvm2</h6><pre><code>$ sudo yum install -y yum-utils \
    device-mapper-persistent-data \
    lvm2
</code></pre><h6 id="添加到yum源"><a href="#添加到yum源" class="headerlink" title="添加到yum源"></a>添加到yum源</h6><pre><code>$ sudo -E yum-config-manager \
    --add-repo \
    &quot;$DOCKERURL/centos/docker-ee.repo&quot;
</code></pre><h5 id="正式安装"><a href="#正式安装" class="headerlink" title="正式安装"></a>正式安装</h5><pre><code>$ sudo yum -y install docker-ee

[mingguilu@localhost yum.repos.d]$ sudo yum install -y docker-ee
已加载插件：fastestmirror
docker-ee-stable-17.06                                       | 2.9 kB  00:00:00     
docker-ee-stable-18.01                                       | 2.9 kB  00:00:00     
(1/2): docker-ee-stable-18.01/x86_64/primary_db              | 1.1 kB  00:00:02     
(2/2): docker-ee-stable-17.06/x86_64/primary_db              | 7.6 kB  00:00:02     
Loading mirror speeds from cached hostfile
* base: centos.ustc.edu.cn
* extras: mirrors.sohu.com
* updates: mirrors.sohu.com
正在解决依赖关系
--&gt; 正在检查事务
---&gt; 软件包 docker-ee.x86_64.0.17.06.2.ee.6-3.el7.centos 将被 安装
--&gt; 正在处理依赖关系 container-selinux &gt;= 2.9，它被软件包 docker-ee-17.06.2.ee.6-3.el7.centos.x86_64 需要
--&gt; 正在检查事务
---&gt; 软件包 container-selinux.noarch.2.2.36-1.gitff95335.el7 将被 安装
--&gt; 解决依赖关系完成

依赖关系解决

====================================================================================
Package           架构   版本                         源                      大小
====================================================================================
正在安装:
docker-ee         x86_64 17.06.2.ee.6-3.el7.centos    docker-ee-stable-17.06  25 M
为依赖而安装:
container-selinux noarch 2:2.36-1.gitff95335.el7      extras                  31 k

事务概要
====================================================================================
安装  1 软件包 (+1 依赖软件包)

总下载量：25 M
安装大小：79 M
Downloading packages:
(1/2): container-selinux-2.36-1.gitff95335.el7.noarch.rpm    |  31 kB  00:00:01     
warning: /var/cache/yum/x86_64/7/docker-ee-stable-17.06/packages/docker-ee-17.06.2.ee.6-3.el7.centos.x86_64.rpm: Header V4 RSA/SHA512 Signature, key ID 76682bc9: NOKEY
docker-ee-17.06.2.ee.6-3.el7.centos.x86_64.rpm 的公钥尚未安装
(2/2): docker-ee-17.06.2.ee.6-3.el7.centos.x86_64.rpm        |  25 MB  00:00:48     
------------------------------------------------------------------------------------
总计                                                   534 kB/s |  25 MB  00:48     
从 https://storebits.docker.com/ee/centos/sub-43072c8f-268b-4608-8065-9996bb1c7129/centos/gpg 检索密钥
导入 GPG key 0x76682BC9:
用户ID     : &quot;Docker Release (EE rpm) &lt;docker@docker.com&gt;&quot;
指纹       : 77fe da13 1a83 1d29 a418 d3e8 99e5 ff2e 7668 2bc9
来自       : https://storebits.docker.com/ee/centos/sub-43072c8f-268b-4608-8065-9996bb1c7129/centos/gpg
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
正在安装    : 2:container-selinux-2.36-1.gitff95335.el7.noarch                1/2 
正在安装    : docker-ee-17.06.2.ee.6-3.el7.centos.x86_64                      2/2 
验证中      : docker-ee-17.06.2.ee.6-3.el7.centos.x86_64                      1/2 
验证中      : 2:container-selinux-2.36-1.gitff95335.el7.noarch                2/2 

已安装:
docker-ee.x86_64 0:17.06.2.ee.6-3.el7.centos                                      

作为依赖被安装:
container-selinux.noarch 2:2.36-1.gitff95335.el7                                  
完毕！
</code></pre><h5 id="启动Docker"><a href="#启动Docker" class="headerlink" title="启动Docker"></a>启动Docker</h5><pre><code>$ sudo systemctl start docker
</code></pre><h5 id="开机自动启动Docker服务"><a href="#开机自动启动Docker服务" class="headerlink" title="开机自动启动Docker服务"></a>开机自动启动Docker服务</h5><pre><code>$ sudo systemctl enable docker
</code></pre><h5 id="查看Docker状态"><a href="#查看Docker状态" class="headerlink" title="查看Docker状态"></a>查看Docker状态</h5><pre><code>$ sudo systemctl status docker
</code></pre><h5 id="停止Docker"><a href="#停止Docker" class="headerlink" title="停止Docker"></a>停止Docker</h5><pre><code>$ sudo systemctl stop docker
</code></pre><h5 id="测试Docker"><a href="#测试Docker" class="headerlink" title="测试Docker"></a>测试Docker</h5><pre><code>[mingguilu@localhost ~]$ sudo docker run hello-world

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
1. The Docker client contacted the Docker daemon.
2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
$ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
https://cloud.docker.com/

For more examples and ideas, visit:
https://docs.docker.com/engine/userguide/
</code></pre><h4 id="安装Docker-CE"><a href="#安装Docker-CE" class="headerlink" title="安装Docker-CE"></a>安装Docker-CE</h4><h5 id="在线安装Docker-CE"><a href="#在线安装Docker-CE" class="headerlink" title="在线安装Docker-CE"></a>在线安装Docker-CE</h5><p>在线安装Docker-CE的步骤与Docker-EE差不多，参考官网文档：<a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank" rel="noopener">Get Docker CE for CentOS</a></p>
<h5 id="离线安装Docker-CE"><a href="#离线安装Docker-CE" class="headerlink" title="离线安装Docker-CE"></a>离线安装Docker-CE</h5><h6 id="下载Docker-CE的rpm包"><a href="#下载Docker-CE的rpm包" class="headerlink" title="下载Docker-CE的rpm包"></a>下载Docker-CE的rpm包</h6><p>下载地址： <a href="https://download.docker.com/linux/centos/7/x86_64/stable/Packages/" target="_blank" rel="noopener">https://download.docker.com/linux/centos/7/x86_64/stable/Packages/</a></p>
<pre><code>[mingguilu@localhost ~]$  wget https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-17.12.1.ce-1.el7.centos.x86_64.rpm
</code></pre><h6 id="安装Docker-CE-1"><a href="#安装Docker-CE-1" class="headerlink" title="安装Docker-CE"></a>安装Docker-CE</h6><pre><code>[mingguilu@localhost ~]$ sudo yum install ./docker-ce-17.12.1.ce-1.el7.centos.x86_64.rpm
</code></pre><h4 id="安装Docker-Compose"><a href="#安装Docker-Compose" class="headerlink" title="安装Docker Compose"></a>安装Docker Compose</h4><h5 id="curl方式安装Docker-Compose"><a href="#curl方式安装Docker-Compose" class="headerlink" title="curl方式安装Docker Compose"></a>curl方式安装Docker Compose</h5><h6 id="curl命令安装"><a href="#curl命令安装" class="headerlink" title="curl命令安装"></a>curl命令安装</h6><pre><code>$ sudo curl -L https://github.com/docker/compose/releases/download/1.19.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose

[mingguilu@localhost ~]$ sudo curl -L https://github.com/docker/compose/releases/download/1.19.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose
[sudo] mingguilu 的密码：
% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                Dload  Upload   Total   Spent    Left  Speed
100   617    0   617    0     0     68      0 --:--:--  0:00:08 --:--:--   138
100 8288k  100 8288k    0     0   106k      0  0:01:17  0:01:17 --:--:--  319k
</code></pre><h6 id="添加可执行权限"><a href="#添加可执行权限" class="headerlink" title="添加可执行权限"></a>添加可执行权限</h6><pre><code>[mingguilu@localhost ~]$ sudo chmod +x /usr/local/bin/docker-compose 
[sudo] mingguilu 的密码：
[mingguilu@localhost ~]$ 
[mingguilu@localhost ~]$ ls -lh /usr/local/bin/docker-compose 
-rwxr-xr-x. 1 root root 8.1M 3月   6 12:58 /usr/local/bin/docker-compose
</code></pre><h6 id="查看docker-compose版本"><a href="#查看docker-compose版本" class="headerlink" title="查看docker-compose版本"></a>查看docker-compose版本</h6><pre><code>[mingguilu@localhost ~]$ docker-compose --version
docker-compose version 1.19.0, build 9e633ef
</code></pre><h5 id="pip方式安装"><a href="#pip方式安装" class="headerlink" title="pip方式安装"></a>pip方式安装</h5><h6 id="安装python-pip"><a href="#安装python-pip" class="headerlink" title="安装python-pip"></a>安装python-pip</h6><pre><code>[mingguilu@localhost ~]$ sudo yum install python-pip
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
* base: mirrors.sohu.com
* extras: mirrors.sohu.com
* updates: mirrors.sohu.com
没有可用软件包 python-pip。
错误：无须任何处理
</code></pre><h6 id="找不到python-pip包，需先安装epel-release"><a href="#找不到python-pip包，需先安装epel-release" class="headerlink" title="找不到python-pip包，需先安装epel-release"></a>找不到python-pip包，需先安装epel-release</h6><pre><code>[mingguilu@localhost ~]$ sudo yum install -y epel-release 

[mingguilu@localhost ~]$ sudo yum install -y python-pip

[mingguilu@localhost ~]$ sudo pip install --upgrade pip
</code></pre><h6 id="pip安装Docker-compose"><a href="#pip安装Docker-compose" class="headerlink" title="pip安装Docker-compose"></a>pip安装Docker-compose</h6><pre><code>[mingguilu@localhost ~]$ sudo yum install -y docker-compose
已加载插件：fastestmirror
Loading mirror speeds from cached hostfile
* base: mirrors.sohu.com
* epel: mirror01.idc.hinet.net
* extras: mirrors.sohu.com
* updates: mirrors.sohu.com
正在解决依赖关系
--&gt; 正在检查事务
---&gt; 软件包 docker-compose.noarch.0.1.9.0-5.el7 将被 安装
--&gt; 正在处理依赖关系 python-docker-py &gt;= 1.10.6-1，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 python-dockerpty &gt;= 0.4.1-1，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 PyYAML，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 python-cached_property，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 python-docopt，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 python-enum34，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 python-jsonschema，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 python-requests，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 python-six，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 python-texttable，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 python-websocket-client，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在处理依赖关系 python2-backports-functools_lru_cache，它被软件包 docker-compose-1.9.0-5.el7.noarch 需要
--&gt; 正在检查事务
---&gt; 软件包 PyYAML.x86_64.0.3.10-11.el7 将被 安装
--&gt; 正在处理依赖关系 libyaml-0.so.2()(64bit)，它被软件包 PyYAML-3.10-11.el7.x86_64 需要
---&gt; 软件包 python-docker-py.noarch.0.1.10.6-3.el7 将被 安装
--&gt; 正在处理依赖关系 python-ipaddress，它被软件包 python-docker-py-1.10.6-3.el7.noarch 需要
--&gt; 正在处理依赖关系 python-docker-pycreds，它被软件包 python-docker-py-1.10.6-3.el7.noarch 需要
---&gt; 软件包 python-enum34.noarch.0.1.0.4-1.el7 将被 安装
---&gt; 软件包 python-requests.noarch.0.2.6.0-1.el7_1 将被 安装
--&gt; 正在处理依赖关系 python-urllib3 &gt;= 1.10.2-1，它被软件包 python-requests-2.6.0-1.el7_1.noarch 需要
--&gt; 正在处理依赖关系 python-chardet &gt;= 2.2.1-1，它被软件包 python-requests-2.6.0-1.el7_1.noarch 需要
---&gt; 软件包 python-six.noarch.0.1.9.0-2.el7 将被 安装
---&gt; 软件包 python-websocket-client.noarch.0.0.32.0-116.el7 将被 安装
---&gt; 软件包 python2-backports-functools_lru_cache.noarch.0.1.2.1-4.el7 将被 安装
---&gt; 软件包 python2-cached_property.noarch.0.1.3.0-7.el7 将被 安装
---&gt; 软件包 python2-dockerpty.noarch.0.0.4.1-9.el7 将被 安装
---&gt; 软件包 python2-docopt.noarch.0.0.6.2-7.el7 将被 安装
---&gt; 软件包 python2-jsonschema.noarch.0.2.5.1-3.el7 将被 安装
--&gt; 正在处理依赖关系 python-repoze-lru，它被软件包 python2-jsonschema-2.5.1-3.el7.noarch 需要
---&gt; 软件包 python2-texttable.noarch.0.0.9.1-1.el7 将被 安装
--&gt; 正在检查事务
---&gt; 软件包 libyaml.x86_64.0.0.1.4-11.el7_0 将被 安装
---&gt; 软件包 python-chardet.noarch.0.2.2.1-1.el7_1 将被 安装
---&gt; 软件包 python-docker-pycreds.noarch.0.1.10.6-3.el7 将被 安装
---&gt; 软件包 python-ipaddress.noarch.0.1.0.16-2.el7 将被 安装
---&gt; 软件包 python-repoze-lru.noarch.0.0.4-3.el7 将被 安装
---&gt; 软件包 python-urllib3.noarch.0.1.10.2-3.el7 将被 安装
--&gt; 解决依赖关系完成

依赖关系解决

=========================================================================================================================================================================
Package                                                      架构                          版本                                     源                             大小
=========================================================================================================================================================================
正在安装:
docker-compose                                               noarch                        1.9.0-5.el7                              epel                          150 k
为依赖而安装:
PyYAML                                                       x86_64                        3.10-11.el7                              base                          153 k
libyaml                                                      x86_64                        0.1.4-11.el7_0                           base                           55 k
python-chardet                                               noarch                        2.2.1-1.el7_1                            base                          227 k
python-docker-py                                             noarch                        1.10.6-3.el7                             extras                        101 k
python-docker-pycreds                                        noarch                        1.10.6-3.el7                             extras                         18 k
python-enum34                                                noarch                        1.0.4-1.el7                              base                           52 k
python-ipaddress                                             noarch                        1.0.16-2.el7                             base                           34 k
python-repoze-lru                                            noarch                        0.4-3.el7                                epel                           13 k
python-requests                                              noarch                        2.6.0-1.el7_1                            base                           94 k
python-six                                                   noarch                        1.9.0-2.el7                              base                           29 k
python-urllib3                                               noarch                        1.10.2-3.el7                             base                          101 k
python-websocket-client                                      noarch                        0.32.0-116.el7                           extras                         56 k
python2-backports-functools_lru_cache                        noarch                        1.2.1-4.el7                              epel                           12 k
python2-cached_property                                      noarch                        1.3.0-7.el7                              epel                           16 k
python2-dockerpty                                            noarch                        0.4.1-9.el7                              epel                           28 k
python2-docopt                                               noarch                        0.6.2-7.el7                              epel                           28 k
python2-jsonschema                                           noarch                        2.5.1-3.el7                              epel                           75 k
python2-texttable                                            noarch                        0.9.1-1.el7                              epel                           21 k

事务概要
=========================================================================================================================================================================
安装  1 软件包 (+18 依赖软件包)

总下载量：1.2 M
安装大小：4.8 M
Downloading packages:
(1/19): libyaml-0.1.4-11.el7_0.x86_64.rpm                                                                                                         |  55 kB  00:00:00     
(2/19): python-docker-pycreds-1.10.6-3.el7.noarch.rpm                                                                                             |  18 kB  00:00:00     
(3/19): python-enum34-1.0.4-1.el7.noarch.rpm                                                                                                      |  52 kB  00:00:00     
(4/19): PyYAML-3.10-11.el7.x86_64.rpm                                                                                                             | 153 kB  00:00:00     
(5/19): python-docker-py-1.10.6-3.el7.noarch.rpm                                                                                                  | 101 kB  00:00:00     
(6/19): python-ipaddress-1.0.16-2.el7.noarch.rpm                                                                                                  |  34 kB  00:00:00     
(7/19): python-chardet-2.2.1-1.el7_1.noarch.rpm                                                                                                   | 227 kB  00:00:00     
(8/19): docker-compose-1.9.0-5.el7.noarch.rpm                                                                                                     | 150 kB  00:00:00     
(9/19): python-requests-2.6.0-1.el7_1.noarch.rpm                                                                                                  |  94 kB  00:00:00     
(10/19): python-repoze-lru-0.4-3.el7.noarch.rpm                                                                                                   |  13 kB  00:00:00     
(11/19): python2-backports-functools_lru_cache-1.2.1-4.el7.noarch.rpm                                                                             |  12 kB  00:00:00     
(12/19): python-six-1.9.0-2.el7.noarch.rpm                                                                                                        |  29 kB  00:00:00     
(13/19): python2-cached_property-1.3.0-7.el7.noarch.rpm                                                                                           |  16 kB  00:00:00     
(14/19): python-urllib3-1.10.2-3.el7.noarch.rpm                                                                                                   | 101 kB  00:00:00     
(15/19): python-websocket-client-0.32.0-116.el7.noarch.rpm                                                                                        |  56 kB  00:00:00     
(16/19): python2-dockerpty-0.4.1-9.el7.noarch.rpm                                                                                                 |  28 kB  00:00:00     
(17/19): python2-docopt-0.6.2-7.el7.noarch.rpm                                                                                                    |  28 kB  00:00:00     
(18/19): python2-jsonschema-2.5.1-3.el7.noarch.rpm                                                                                                |  75 kB  00:00:00     
(19/19): python2-texttable-0.9.1-1.el7.noarch.rpm                                                                                                 |  21 kB  00:00:00     
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------
总计                                                                                                                                     730 kB/s | 1.2 MB  00:00:01     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
正在安装    : python-six-1.9.0-2.el7.noarch                                                                                                                       1/19 
正在安装    : python-websocket-client-0.32.0-116.el7.noarch                                                                                                       2/19 
正在安装    : python-docker-pycreds-1.10.6-3.el7.noarch                                                                                                           3/19 
正在安装    : python2-dockerpty-0.4.1-9.el7.noarch                                                                                                                4/19 
正在安装    : python-urllib3-1.10.2-3.el7.noarch                                                                                                                  5/19 
正在安装    : python-ipaddress-1.0.16-2.el7.noarch                                                                                                                6/19 
正在安装    : python-enum34-1.0.4-1.el7.noarch                                                                                                                    7/19 
正在安装    : python2-docopt-0.6.2-7.el7.noarch                                                                                                                   8/19 
正在安装    : python-chardet-2.2.1-1.el7_1.noarch                                                                                                                 9/19 
正在安装    : python-requests-2.6.0-1.el7_1.noarch                                                                                                               10/19 
正在安装    : python-docker-py-1.10.6-3.el7.noarch                                                                                                               11/19 
正在安装    : python2-cached_property-1.3.0-7.el7.noarch                                                                                                         12/19 
正在安装    : libyaml-0.1.4-11.el7_0.x86_64                                                                                                                      13/19 
正在安装    : PyYAML-3.10-11.el7.x86_64                                                                                                                          14/19 
正在安装    : python2-texttable-0.9.1-1.el7.noarch                                                                                                               15/19 
正在安装    : python-repoze-lru-0.4-3.el7.noarch                                                                                                                 16/19 
正在安装    : python2-jsonschema-2.5.1-3.el7.noarch                                                                                                              17/19 
正在安装    : python2-backports-functools_lru_cache-1.2.1-4.el7.noarch                                                                                           18/19 
正在安装    : docker-compose-1.9.0-5.el7.noarch                                                                                                                  19/19 
验证中      : python2-backports-functools_lru_cache-1.2.1-4.el7.noarch                                                                                            1/19 
验证中      : python-docker-pycreds-1.10.6-3.el7.noarch                                                                                                           2/19 
验证中      : python-repoze-lru-0.4-3.el7.noarch                                                                                                                  3/19 
验证中      : docker-compose-1.9.0-5.el7.noarch                                                                                                                   4/19 
验证中      : python-requests-2.6.0-1.el7_1.noarch                                                                                                                5/19 
验证中      : python2-texttable-0.9.1-1.el7.noarch                                                                                                                6/19 
验证中      : python2-jsonschema-2.5.1-3.el7.noarch                                                                                                               7/19 
验证中      : libyaml-0.1.4-11.el7_0.x86_64                                                                                                                       8/19 
验证中      : python2-cached_property-1.3.0-7.el7.noarch                                                                                                          9/19 
验证中      : python-chardet-2.2.1-1.el7_1.noarch                                                                                                                10/19 
验证中      : python2-docopt-0.6.2-7.el7.noarch                                                                                                                  11/19 
验证中      : python-enum34-1.0.4-1.el7.noarch                                                                                                                   12/19 
验证中      : python-docker-py-1.10.6-3.el7.noarch                                                                                                               13/19 
验证中      : python-websocket-client-0.32.0-116.el7.noarch                                                                                                      14/19 
验证中      : PyYAML-3.10-11.el7.x86_64                                                                                                                          15/19 
验证中      : python2-dockerpty-0.4.1-9.el7.noarch                                                                                                               16/19 
验证中      : python-ipaddress-1.0.16-2.el7.noarch                                                                                                               17/19 
验证中      : python-six-1.9.0-2.el7.noarch                                                                                                                      18/19 
验证中      : python-urllib3-1.10.2-3.el7.noarch                                                                                                                 19/19 

已安装:
docker-compose.noarch 0:1.9.0-5.el7                                                                                                                                    

作为依赖被安装:
PyYAML.x86_64 0:3.10-11.el7                                     libyaml.x86_64 0:0.1.4-11.el7_0                   python-chardet.noarch 0:2.2.1-1.el7_1               
python-docker-py.noarch 0:1.10.6-3.el7                          python-docker-pycreds.noarch 0:1.10.6-3.el7       python-enum34.noarch 0:1.0.4-1.el7                  
python-ipaddress.noarch 0:1.0.16-2.el7                          python-repoze-lru.noarch 0:0.4-3.el7              python-requests.noarch 0:2.6.0-1.el7_1              
python-six.noarch 0:1.9.0-2.el7                                 python-urllib3.noarch 0:1.10.2-3.el7              python-websocket-client.noarch 0:0.32.0-116.el7     
python2-backports-functools_lru_cache.noarch 0:1.2.1-4.el7      python2-cached_property.noarch 0:1.3.0-7.el7      python2-dockerpty.noarch 0:0.4.1-9.el7              
python2-docopt.noarch 0:0.6.2-7.el7                             python2-jsonschema.noarch 0:2.5.1-3.el7           python2-texttable.noarch 0:0.9.1-1.el7              

完毕！
</code></pre><h6 id="查看Docker-compose版本"><a href="#查看Docker-compose版本" class="headerlink" title="查看Docker-compose版本"></a>查看Docker-compose版本</h6><pre><code>[mingguilu@localhost ~]$ sudo docker-compose --version
docker-compose version 1.9.0, build 2585387
</code></pre><hr>
<h4 id="参考文档："><a href="#参考文档：" class="headerlink" title="参考文档："></a>参考文档：</h4><ul>
<li><p>《Install Docker》:  <a href="https://docs.docker.com/install/" target="_blank" rel="noopener">https://docs.docker.com/install/</a></p>
</li>
<li><p>《Get Docker EE for CentOS》:  <a href="https://docs.docker.com/install/linux/docker-ee/centos/" target="_blank" rel="noopener">https://docs.docker.com/install/linux/docker-ee/centos/</a></p>
</li>
<li><p>《Get Docker CE for CentOS》:  <a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank" rel="noopener">https://docs.docker.com/install/linux/docker-ce/centos/</a></p>
</li>
<li><p>《Install Docker Compose》:  <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener">https://docs.docker.com/compose/install/</a></p>
</li>
</ul>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>如果阅读这篇文章让您有所收获而感到开心...那还有更开心的！支付宝扫码立领红包！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>领红包</span>
  </button>
  <div id="QR" style="display: none;">

    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay_worldcpu.png" alt="Minggui Lu 我有一个支付宝！扫码就能领红包！"/>
        <p>我有一个支付宝！扫码就能领红包！</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      <!--
      
        <div class="post-tags">
          
            <a href="/tags/Linux/" rel="tag"> <i class="fa fa-tag"></i> Linux</a>
          
            <a href="/tags/CentOS/" rel="tag"> <i class="fa fa-tag"></i> CentOS</a>
          
            <a href="/tags/Docker/" rel="tag"> <i class="fa fa-tag"></i> Docker</a>
          
        </div>
      
      -->

      
      
        <div class="post-widgets">
        

        

        
          
          <div id="needsharebutton-postbottom">
            <span class="btn">
              <i class="fa fa-share-alt" aria-hidden="true"></i>
            </span>
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/02/RAID阵列上的Server_2012_R2忘记Administrator密码后/" rel="next" title="RAID阵列上的Server_2012_R2忘记Administrator密码后...">
                <i class="fa fa-chevron-left"></i> RAID阵列上的Server_2012_R2忘记Administrator密码后...
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/08/CentOS7安装和配置Harbor/" rel="prev" title="CentOS7安装和配置Harbor">
                CentOS7安装和配置Harbor <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zMDU3OC83MTMz"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Minggui Lu</p>
              <p class="site-description motion-element" itemprop="description">持续集成 &nbsp;&nbsp; 持续交付</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">44</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">79</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="mailto:luminggui0214@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/mingguilu" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/kind0214" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.facebook.com/kind0214" target="_blank" title="FB Page">
                      
                        <i class="fa fa-fw fa-facebook"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://instagram.com/kind0214" target="_blank" title="Instagram">
                      
                        <i class="fa fa-fw fa-instagram"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://weibo.com/kind0214" target="_blank" title="微博">
                      
                        <i class="fa fa-fw fa-weibo"></i></a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#安装Docker-EE"><span class="nav-number">1.</span> <span class="nav-text">安装Docker-EE</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#获取Docker-EE-repository-URL"><span class="nav-number">1.1.</span> <span class="nav-text">获取Docker EE repository URL</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#注册Docker帐户"><span class="nav-number">1.1.1.</span> <span class="nav-text">注册Docker帐户</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#在Docker-Store获取Docker-EE-for-CentOS"><span class="nav-number">1.1.2.</span> <span class="nav-text">在Docker Store获取Docker EE for CentOS</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#卸载旧版本的Docker或Docker-engine"><span class="nav-number">1.2.</span> <span class="nav-text">卸载旧版本的Docker或Docker-engine</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#配置Yum源"><span class="nav-number">1.3.</span> <span class="nav-text">配置Yum源</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#移除现有的Docker-yum源"><span class="nav-number">1.3.1.</span> <span class="nav-text">移除现有的Docker yum源</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#将Docker-EE-repository-UR添加到临时环境变量中"><span class="nav-number">1.3.2.</span> <span class="nav-text">将Docker EE repository UR添加到临时环境变量中</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#把存储Docker-EE-repository-UR的变量添加到-etc-yum-vars-dockerurl文件中"><span class="nav-number">1.3.3.</span> <span class="nav-text">把存储Docker EE repository UR的变量添加到/etc/yum/vars/dockerurl文件中</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#安装必需的软件yum-utils、device-mapper-persistent-data、lvm2"><span class="nav-number">1.3.4.</span> <span class="nav-text">安装必需的软件yum-utils、device-mapper-persistent-data、lvm2</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#添加到yum源"><span class="nav-number">1.3.5.</span> <span class="nav-text">添加到yum源</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#正式安装"><span class="nav-number">1.4.</span> <span class="nav-text">正式安装</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#启动Docker"><span class="nav-number">1.5.</span> <span class="nav-text">启动Docker</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#开机自动启动Docker服务"><span class="nav-number">1.6.</span> <span class="nav-text">开机自动启动Docker服务</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#查看Docker状态"><span class="nav-number">1.7.</span> <span class="nav-text">查看Docker状态</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#停止Docker"><span class="nav-number">1.8.</span> <span class="nav-text">停止Docker</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#测试Docker"><span class="nav-number">1.9.</span> <span class="nav-text">测试Docker</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装Docker-CE"><span class="nav-number">2.</span> <span class="nav-text">安装Docker-CE</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#在线安装Docker-CE"><span class="nav-number">2.1.</span> <span class="nav-text">在线安装Docker-CE</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#离线安装Docker-CE"><span class="nav-number">2.2.</span> <span class="nav-text">离线安装Docker-CE</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#下载Docker-CE的rpm包"><span class="nav-number">2.2.1.</span> <span class="nav-text">下载Docker-CE的rpm包</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#安装Docker-CE-1"><span class="nav-number">2.2.2.</span> <span class="nav-text">安装Docker-CE</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装Docker-Compose"><span class="nav-number">3.</span> <span class="nav-text">安装Docker Compose</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#curl方式安装Docker-Compose"><span class="nav-number">3.1.</span> <span class="nav-text">curl方式安装Docker Compose</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#curl命令安装"><span class="nav-number">3.1.1.</span> <span class="nav-text">curl命令安装</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#添加可执行权限"><span class="nav-number">3.1.2.</span> <span class="nav-text">添加可执行权限</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#查看docker-compose版本"><span class="nav-number">3.1.3.</span> <span class="nav-text">查看docker-compose版本</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#pip方式安装"><span class="nav-number">3.2.</span> <span class="nav-text">pip方式安装</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#安装python-pip"><span class="nav-number">3.2.1.</span> <span class="nav-text">安装python-pip</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#找不到python-pip包，需先安装epel-release"><span class="nav-number">3.2.2.</span> <span class="nav-text">找不到python-pip包，需先安装epel-release</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#pip安装Docker-compose"><span class="nav-number">3.2.3.</span> <span class="nav-text">pip安装Docker-compose</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#查看Docker-compose版本"><span class="nav-number">3.2.4.</span> <span class="nav-text">查看Docker-compose版本</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#参考文档："><span class="nav-number">4.</span> <span class="nav-text">参考文档：</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

      <!-- alipay_QRcode start -->

      <div style="height:12px; border-bottom:1px dotted;"></div>
      <div style="height:12px; border-top:1px dotted;"></div>

      <section class="site-overview-wrap">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
              <p class="site-author-name" itemprop="name"> </p>
              <p class="site-description motion-element" itemprop="description"> 
                <a href="/candies/" target="_blank">
                  <img src="/images/reading/alipay_QRcode.jpg" title="打开支付宝，扫码领红包" />
                </a>
          </div>
        </div>
      </section> 

      <!-- alipay_QRcode end -->

      <!-- geektime start -->

      <div style="height:12px; border-bottom:1px dotted;"></div>
      <div style="height:12px; border-top:1px dotted;"></div>

      <section class="site-overview-wrap">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
              <p class="site-author-name" itemprop="name"> </p>
              <p class="site-author-name" itemprop="name"> 极客时间·左耳听风 </p>
              <p class="site-description motion-element" itemprop="description"> 
                <img src="/images/reading/左耳听风.jpg" title="洞悉技术的本质，享受科技的乐趣" />
          </div>
        </div>
      </section> 

      <!-- geektime end -->

      <!-- huobi start -->

      <div style="height:12px; border-bottom:1px dotted;"></div>
      <div style="height:12px; border-top:1px dotted;"></div>

      <section class="site-overview-wrap">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a href="https://www.huobi.br.com/zh-cn/topic/invited/?invite_code=vg333" target="_blank">
                  <img src="/images/reading/huobi2.jpg" title="点击注册火币" />
                </a>
          </div>
        </div>
      </section>  
      
      <!-- huobi end -->

      <!-- yizhihognxing start -->
      <!--
      <div style="height:12px; border-bottom:1px dotted;"></div>
      <div style="height:12px; border-top:1px dotted;"></div>

      <section class="site-overview-wrap">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a href="http://order.yizhihongxing2018.com/aff.php?aff=294" target="_blank">
                  <img src="/images/reading/yizhihongxing_vertical.jpg" />
                </a>
          </div>
        </div>
      </section>  
      -->
      <!-- yizhihongxing end -->

    </div>
  </aside>




        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Minggui Lu</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">
    托管于 <a href="https://coding.net/" target="_blank">Coding</a> pages and <a href="https://github.com/" target="_blank">Github</a> pages
  </div>




<!-- 百度分享
<script>
  window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"1","bdPos":"right","bdTop":"100"},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"16"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
-->
        




  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=65849690";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
